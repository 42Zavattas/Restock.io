<div class="container">

  <h2 class="doc-h2">
    <span>Stocks</span>
  </h2>

  <table ng-class="{'no-margin':!stocks.length}">
    <caption>Saved Stocks</caption>
    <thead ng-if="stocks.length">
      <tr>
        <th>Rule</th>
        <th>Url</th>
        <th class="text-center">Calls</th>
        <th class="text-center">Created</th>
        <th>&nbsp;</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="stock in stocks">
        <td class="code-cell">
          <span class="code">{{stock.rule}}</span>
        </td>
        <td>
          <a class="little-link" target="blanck" ng-href="{{ui.domain}}/api/stocks{{stock.url}}">/api/stocks{{stock.url}}</a>
        </td>
        <td class="text-center"><strong>{{stock.calls}}</strong></td>
        <td class="text-center date">{{stock.created_at | date:'dd/MM/yyyy'}}</td>
        <td>
          <button ng-click="deleteStock(stock)" class="del-icon">
            <i class="icon-remove"></i>
          </button>
        </td>
      </tr>
    </tbody>
  </table>
  <h3 ng-if="!stocks.length" class="marged-bottom"><strong>Nothing for now</strong></h3>

  <h2 class="doc-h2">
    <span>Change password</span>
  </h2>

  <form class="form change-pwd" name="form" ng-submit="changePassword(form)" novalidate>

    <input type="password" placeholder="Enter your current password" class="form-control" ng-model="user.oldPassword"
           name="password" ng-class="{'has-error':!user.success && form.password.$invalid && submitted}" required mongoose-error>
    <input type="password" placeholder="Enter a new password" class="form-control" ng-model="user.newPassword" ng-minlength="3"
           ng-class="{'has-error':!user.success && (form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)}"
           name="newPassword" required>

    <div class="msg">{{message}}</div>

    <button class="btn" type="submit">Save changes</button>
  </form>

</div>
