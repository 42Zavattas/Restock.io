<form class="form" name="form" ng-submit="changePassword(form)" novalidate>

  <div class="form-group">
    <label>Current Password</label>

    <input type="password" class="form-control" ng-model="user.oldPassword"
           name="password" ng-class="{'has-error':form.password.$error.mongoose}" mongoose-error>
  </div>

  <div class="form-group">
    <label>New Password</label>

    <input type="password" class="form-control" ng-model="user.newPassword" ng-minlength="3"
           ng-class="{'has-error':(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)}"
           name="newPassword" required>
  </div>

  <button class="btn" type="submit">Save changes</button>
</form>
